# ER-API SDK

A powerful TypeScript SDK for interacting with the ER-API service, providing easy access to AI models, media downloads, games, and various other utilities.

[![npm version](https://img.shields.io/npm/v/er-api-sdk.svg)](https://www.npmjs.com/package/er-api-sdk)
[![License: Unlicense](https://img.shields.io/badge/license-Unlicense-blue.svg)](http://unlicense.org/)

## Features

- ü§ñ **Multiple AI Providers** - Interact with OpenAI, Deepseek, Anthropic, Gemini, and more
- üéÆ **Gaming Endpoints** - Access Indonesian word games and trivia
- üì• **Media Downloads** - Download content from various platforms
- üñºÔ∏è **Image Generation** - Generate images using Brat AI
- üîÆ **Primbon** - Indonesian traditional fortune telling
- üîå **Custom Endpoints** - Register and use custom endpoints easily
- üîÑ **Flexible Configuration** - Set your own base URL and API keys

## Installation

```bash
# Using npm
npm install er-api-sdk

# Using yarn
yarn add er-api-sdk

# Using pnpm
pnpm add er-api-sdk
```

## Quick Start

```typescript
import { er } from 'er-api-sdk';
import * as dotenv from 'dotenv';

// Load environment variables from .env file
dotenv.config();

// Or set API keys manually
er.setApiKey('deepseek', 'YOUR_DEEPSEEK_API_KEY');
er.setApiKey('openai', 'YOUR_OPENAI_API_KEY');

// Optional: Change the base URL if needed
// er.setBaseUrl('https://your-custom-api.example.com');

async function main() {
  try {
    // Generate AI responses
    const response = await er.ai.deepseek('What is the capital of France?', 'deepseek-chat');
    console.log('AI Response:', response);
    
    // Download videos
    const videoInfo = await er.dl.ermp4('https://www.youtube.com/watch?v=dQw4w9WgXcQ');
    console.log('Video Info:', videoInfo);
    
    // Generate images
    const imageBuffer = await er.get.brat('anime character with blue hair');
    require('fs').writeFileSync('anime.jpg', imageBuffer);
    console.log('Image saved as anime.jpg');
    
    // Play games
    const wordGame = await er.games.tebakkata();
    console.log('Word Game:', wordGame);
  } catch (error) {
    console.error('Error:', error);
  }
}

main();
```

## Environment Variables

Create a `.env` file in your project root:

```env
# API Keys
DEEPSEEK_API_KEY=your_deepseek_key_here
OPENAI_API_KEY=your_openai_key_here
ANTHROPIC_API_KEY=your_anthropic_key_here
# ... other API keys

# Base URL (optional)
ERAPI_BASE_URL=https://er-api.biz.id

# Custom endpoints (optional)
ERAPI_CUSTOM_ENDPOINT_WEATHER=/api/weather
```

## API Categories

### AI Providers

```typescript
// Using different AI providers
const deepseekResponse = await er.ai.deepseek('Hello, who are you?', 'deepseek-chat');
const openaiResponse = await er.ai.openai('What is the capital of France?', 'gpt-3.5-turbo');
const anthropicResponse = await er.ai.anthropic('Tell me a joke', 'claude-3-haiku');
const geminiResponse = await er.ai.gemini('Explain quantum computing', 'gemini-pro');

// ... other providers: cohere, mistral, perplexity, nlpc, groq, huggingface, together
```

### Media Downloads

```typescript
// Download audio as MP3
const mp3Result = await er.dl.ermp3('https://www.youtube.com/watch?v=dQw4w9WgXcQ');

// Download video as MP4
const mp4Result = await er.dl.ermp4('https://www.youtube.com/watch?v=dQw4w9WgXcQ');

// Download TikTok videos
const tiktokResult = await er.dl.ttdl('https://www.tiktok.com/@user/video/12345');

// Download from other platforms
const spotifyResult = await er.dl.spotify('https://open.spotify.com/track/12345');
```

### Games

```typescript
// Various Indonesian word games
const wordGame = await er.games.tebakkata();
const regionGame = await er.games.tebakkabupaten();
const brainTeaser = await er.games.asahotak();
const lyricsGame = await er.games.tebaklirik();
const familyGame = await er.games.family100();

// Other games available:
// caklontong, siapakahaku, susunkata, tebakbendera,
// tebakgambar, tebakkimia, tebaktebakan, tekateki,
// truth, dare
```

### Image Generation and Search

```typescript
// Generate images with Brat AI
const animeImage = await er.get.brat('anime character with blue hair');
require('fs').writeFileSync('anime.jpg', animeImage);

// Get images from other sources
const waifuResult = await er.get.waifu('waifu');
const pinterestResults = await er.get.pinterest('landscape photography');
```

### Primbon (Indonesian Fortune Telling)

```typescript
// Get name meaning
const nameAnalysis = await er.primbon.artinama('John');

// Analyze lucky numbers
const numberAnalysis = await er.primbon.nomorhoki(8);
```

## Custom Endpoints

You can register and use custom endpoints easily:

```typescript
// Register a custom endpoint
er.registerCustomEndpoint('weather', '/api/weather');

// Use the custom endpoint
const weatherData = await er.custom.weather({ city: 'Jakarta' });
console.log('Weather:', weatherData);

// You can also register endpoints via environment variables:
// ERAPI_CUSTOM_ENDPOINT_WEATHER=/api/weather
```

## Advanced Configuration

```typescript
// Set API keys
er.setApiKey('deepseek', 'YOUR_DEEPSEEK_KEY');

// Change base URL
er.setBaseUrl('https://your-custom-api.example.com');

// Get current base URL
const currentUrl = er.getBaseUrl();

// View all registered custom endpoints
const endpoints = er.getCustomEndpoints();
console.log('Custom endpoints:', endpoints);
```

## Error Handling

The SDK includes built-in error handling:

```typescript
try {
  const response = await er.ai.deepseek('Hello world', 'deepseek-chat');
  console.log(response);
} catch (error) {
  console.error('Error details:', error);
  
  // The error object contains detailed information:
  // - status: HTTP status code
  // - error: Error message
  // - data: Server response (if available)
}
```

## Documentation

For detailed documentation, visit:
- [GitHub Pages Documentation](https://yourname.github.io/er-api-sdk/)
- [GitHub Repository](https://github.com/yourname/er-api-sdk)

## License

This project is licensed under the Unlicense - see the [LICENSE](LICENSE) file for details.

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.